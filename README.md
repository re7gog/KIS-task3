# KIS-task3

Величко Г.Л., РТУ МИРЭА

Разработать ассемблер и интерпретатор для учебной виртуальной машины (УВМ).

## Вариант 6

### Этап 1. Перевод программы в промежуточное представление 
Цель: создать CLI-приложение ассемблера. Реализовать разбор текстового представления команд и трансляцию в промежуточное представление. 
Требования: 
1. Ассемблер должен принимать на вход аргументы командной строки: – Путь к исходному файлу с текстом программы. – Путь к двоичному файлу-результату. – Режим тестирования. 
2. Спроектировать человекочитаемый язык ассемблера, используя текстовое представление в духе традиционных ассемблеров (мнемоника аргумент, аргумент, ...). Поддержать все команды спецификации УВМ. 
3. Описать в документации (например, в README.md) спроектированный язык ассемблера. 
4. Реализовать транслятор, который язык ассемблера преобразует во внутреннее представление (например, список кортежей, объектов или словарей). 
5. (только для данного этапа) В режиме тестирования вывести на экран внутреннее представление ассемблированной программы в формате полей и значений, как в тесте из спецификации УВМ. 
6. Создать программу для тестов, приведенных в спецификации УВМ. Продемонстрировать, что ассемблер генерирует идентичные последовательности полей и их значений. 
7. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.

#### Описание языка:
A - название команды

Команда загрузки константы:
ld B, C ;
Операнд: поле C. Результат: значение в памяти по адресу, которым является поле B
A Биты 0—4
B Биты 5—23 
C Биты 24—55 
Размер команды: 7 байт. 

Команда чтения значения из памяти:
rd B, C ;
Операнд: значение в памяти по адресу, которым является поле B. Результат: значение в памяти по адресу, которым является поле C.
A Биты 0—4
B Биты 5—23
C Биты 24—42
Размер команды: 6 байт.

Команда записи значения в память:
wr B, C, D ;
Операнд: значение в памяти по адресу, которым является поле C. Результат: значение в памяти по адресу, которым является сумма адреса (значение в памяти по адресу, которым является поле D) и смещения (поле B).
A Биты 0—4 
B Биты 5—14 
C Биты 15—33 
D Биты 34—52 
Размер команды: 7 байт.

Команда бинарной операции: побитовый циклический сдвиг вправо:
bir B, C, D ;
Первый операнд: значение в памяти по адресу, которым является поле C. Второй операнд: значение в памяти по адресу, которым является поле B. Результат: значение в памяти по адресу, которым является поле D.
A Биты 0—4
B Биты 5—23 
D Биты 24—42 
C Биты 43—61  
Размер команды: 8 байт.

### Этап 2. Формирование машинного кода 
Цель: реализовать логику преобразования команд в их двоичное представление. 
Требования: 
1. Реализовать транслятор из промежуточного в машинное представление. 
2. Записать результат ассемблирования в двоичный выходной файл. 
3. Вывести на экран размер двоичного файла в байтах. 
4. В режиме тестирования вывести результат ассемблирования на экран в байтовом формате, как в тесте из спецификации УВМ.
5. Создать файл на языке ассемблера, результат трансляции которого соответствует всем тестовым байтовым последовательностям из спецификации УВМ.
6. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.